import{a as K}from"./chunk-54KZJTD5.js";import{a as H}from"./chunk-PPNBTJRV.js";import{a as q}from"./chunk-7Y3UAKNO.js";import{a as A}from"./chunk-O4VBMKT5.js";import"./chunk-V6NYQENG.js";import"./chunk-X7XBFG2M.js";import{b as D}from"./chunk-RZAM6B6G.js";import{g as j,k as g}from"./chunk-55NWGUZQ.js";import{Ab as R,Db as u,Fb as B,Na as f,Pb as $,Rb as F,Sa as S,Vb as L,Xa as z,Ya as w,Z as I,Za as x,Zb as G,_ as h,a as c,ab as b,b as v,bb as _,bc as d,cb as n,cc as W,db as o,eb as l,ec as P,fb as m,ha as E,jb as U,kb as N,mb as C,ob as M,qb as p,xb as T,ya as r,yb as O,zb as V}from"./chunk-YXGO2XRJ.js";var Z=["overflowBtn"],ee=(i,t)=>({reference:i,offsetOptions:t}),te=(i,t)=>t.id;function ae(i,t){if(i&1&&(o(0,"ui-list-item",2)(1,"span",3),m(2,"ui-avatar",4),l()()),i&2){let e=t.$implicit,a=p(2);n("ariaRole","menuitem")("active",a.activeElementId()===e.id)("label",e.name),r(2),n("hideTooltip",!0)("size","small")("id",e.id)("name",e.name)("image",e.image)("color",e.color)("showIcon",e.showIcon)("initials",e.initials)}}function ie(i,t){if(i&1&&(U(0),o(1,"ui-menu",1),b(2,ae,3,11,"ui-list-item",2,te),l(),N()),i&2){let e=p();r(),R("width","fit-content")("padding-right","var(--spacing-sizing-04)")("--list-item-height","var(--spacing-sizing-12)")("max-height",e.maxMenuHeight),n("ui-floating",F(11,ee,e.menuReference(),e.offset))("id",e.menuId())("ariaRole","menu"),r(),_(e.items())}}function re(i,t){if(i&1&&m(0,"ui-avatar",4),i&2){let e=t.$implicit;n("hideTooltip",!0)("size","small")("id",e.id)("name",e.name)("image",e.image)("color",e.color)("showIcon",e.showIcon)("initials",e.initials)}}var y=class i{overflowBtn=W("overflowBtn");size=d("medium");open=P(!1);menuId=d.required();activeElementId=P();menuReference=d.required();items=d.required();get offset(){return parseInt(getComputedStyle(document.documentElement).getPropertyValue("--spacing-sizing-01"))}get maxMenuHeight(){return this.items().length>5?"calc(var(--spacing-sizing-12) * 5)":""}closeMenu(){this.open.set(!1)}toggleMenu(){this.open.set(!this.open());let t=this.items();this.open()&&t.length?this.activeElementId.set(t[0].id):this.activeElementId.set(void 0)}avatarTemplate(t){return v(c({},t),{hideTooltip:!0,size:"small"})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=f({type:i,selectors:[["ui-avatar-group-overflow"]],viewQuery:function(e,a){e&1&&T(a.overflowBtn,Z,5),e&2&&O()},hostAttrs:[2,"display","contents"],inputs:{size:[1,"size"],open:[1,"open"],menuId:[1,"menuId"],activeElementId:[1,"activeElementId"],menuReference:[1,"menuReference"],items:[1,"items"]},outputs:{open:"openChange",activeElementId:"activeElementIdChange"},decls:3,vars:1,consts:[["avatar",""],[3,"ui-floating","id","ariaRole"],[3,"ariaRole","active","label"],["data-leading",""],[3,"hideTooltip","size","id","name","image","color","showIcon","initials"]],template:function(e,a){e&1&&(w(0,ie,4,14,"ng-container"),S(1,re,1,8,"ng-template",null,0,L)),e&2&&x(a.open()?0:-1)},dependencies:[g,A,H,K,q],encapsulation:2})};var ne=(i,t)=>t.id;function oe(i,t){if(i&1){let e=C();o(0,"ui-avatar",3),M("click",function(){I(e);let s=p();return h(s.onAvatarClick())}),l()}if(i&2){let e=t.$implicit,a=p();n("name",e.name)("image",e.image)("initials",e.initials)("color",e.color)("showIcon",e.showIcon)("id",e.id)("size",a.size())}}function se(i,t){if(i&1){let e=C();o(0,"button",4,0),M("blur",function(){I(e);let s=p();return h(s.closeMenu())})("click",function(){I(e);let s=p();return h(s.toggleMenu())})("keydown",function(s){I(e);let Y=p();return h(Y.handleKeydown(s))}),o(2,"span",5),u(3),l()(),m(4,"ui-avatar-group-overflow",6)}if(i&2){let e=V(1),a=p();z("aria-activedescendant",a.activeElementId()||null)("aria-controls",a.open()?a.menuId:null)("aria-expanded",a.open())("aria-label",a.overflowButtonLabel)("data-size",a.size()),r(3),B("+",a.overflowItems.length),r(),n("open",a.open())("activeElementId",a.activeElementId())("menuId",a.menuId)("items",a.overflowItems)("size",a.size()||"small")("menuReference",e)}}var k=class i{menuId=D("avatar-group-menu");items=d([]);size=d("small");max=d(5);variant=d("stacked");open=E(!1);activeElementId=E(void 0);itemsWithIds=G(()=>this.items().map((t,e)=>v(c({},t),{id:D(`avatar-group-item-${e}`)})));maxSafe=G(()=>this.max()?this.max()>this.items().length?this.items().length:this.max():5);get visibleItems(){return this.itemsWithIds().slice(0,this.maxSafe()).map((t,e)=>v(c({},t),{id:`${t.name?.replace(/\s+/g,"-").toLowerCase()}-${e}`}))}get overflowItems(){return this.itemsWithIds().slice(this.maxSafe()).map((t,e)=>v(c({},t),{id:`${t.name?.replace(/\s+/g,"-").toLowerCase()}-overflow-${e}`}))}get overflowButtonLabel(){let t=this.overflowItems.length;return`Show ${t} more avatar${t>1?"s":""}`}handleKeydown(t){if(!this.open)return;let e=this.itemsWithIds(),a=e.findIndex(s=>s.id===this.activeElementId());if(t.key==="ArrowDown"){let s=(a+1)%e.length;this.activeElementId.set(e[s].id),t.preventDefault()}else if(t.key==="ArrowUp"){let s=(a-1+e.length)%e.length;this.activeElementId.set(e[s].id),t.preventDefault()}else t.key==="Escape"&&(this.open.set(!1),t.preventDefault())}toggleMenu(){this.open.set(!this.open());let t=this.itemsWithIds();this.open()&&t.length?this.activeElementId.set(t[0].id):this.activeElementId.set(void 0)}closeMenu(){this.open.set(!1)}onAvatarClick(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=f({type:i,selectors:[["ui-avatar-group"]],hostAttrs:["data-bspk","avatar-group"],hostVars:3,hostBindings:function(e,a){e&2&&z("data-max",a.max())("data-size",a.size())("data-variant",a.variant())},inputs:{items:[1,"items"],size:[1,"size"],max:[1,"max"],variant:[1,"variant"]},decls:4,vars:1,consts:[["overflowBtn",""],["data-wrap",""],[3,"name","image","initials","color","showIcon","id","size"],[3,"click","name","image","initials","color","showIcon","id","size"],["aria-haspopup","menu","data-bspk","avatar","data-bspk-owner","avatar-overflow","role","combobox",3,"blur","click","keydown"],["data-overflow-count",""],[3,"open","activeElementId","menuId","items","size","menuReference"]],template:function(e,a){e&1&&(o(0,"div",1),b(1,oe,1,7,"ui-avatar",2,ne),w(3,se,5,12),l()),e&2&&(r(),_(a.visibleItems),r(2),x(a.overflowItems.length>0?3:-1))},dependencies:[g,A,y],styles:[`[data-bspk=avatar-group]{width:fit-content;max-width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center}[data-bspk=avatar-group] [data-wrap]{min-width:fit-content;display:flex;flex-direction:row;align-items:center;justify-content:center}[data-bspk=avatar-group] [data-bspk=avatar]{z-index:1}[data-bspk=avatar-group] [data-bspk=avatar]:hover{z-index:2}[data-bspk=avatar-group] [data-bspk=avatar][data-bspk-owner=avatar-overflow]{--avatar-border: solid 1px var(--stroke-neutral-low);background-color:var(--surface-neutral-t1-base)}[data-bspk=avatar-group][data-variant=spread]{--avatar-border: none}[data-bspk=avatar-group][data-variant=spread] [data-bspk=avatar]+[data-bspk=avatar]{margin-left:var(--spacing-sizing-02)}[data-bspk=avatar-group][data-variant=stacked]{--avatar-border: solid 1px var(--stroke-neutral-low)}[data-bspk=avatar-group][data-variant=stacked] [data-bspk=avatar]+[data-bspk=avatar]{margin-left:calc(var(--spacing-sizing-02) * -1)}
`],encapsulation:2})};var le=()=>({marginLeft:"2rem",border:"2px solid #eee",padding:"1rem"}),X=class i{avatars=[{name:"Fezzik",image:"/avatar-01.png"},{name:"Inigo Montoya",initials:"IM",color:"blue"},{name:"Miracle Max",initials:"MM",color:"green"},{name:"Princess Buttercup",showIcon:!0},{name:"Westley",initials:"W",color:"purple"},{name:"Vincent",initials:"V",image:"/avatar-04.png"}];static \u0275fac=function(e){return new(e||i)};static \u0275cmp=f({type:i,selectors:[["ui-avatar-group-example"]],decls:15,vars:15,consts:[[3,"items"],[3,"items","variant","size","max"],[3,"items","variant","size","max","ngStyle"],[3,"items","max"]],template:function(e,a){e&1&&(o(0,"h4"),u(1,"Default (stacked, small, max=5)"),l(),m(2,"ui-avatar-group",0),o(3,"h4"),u(4,"Spread variant, medium size, max=3"),l(),m(5,"ui-avatar-group",1),o(6,"h4"),u(7,"Stacked, x-large, max=4, custom style"),l(),m(8,"ui-avatar-group",2),o(9,"h4"),u(10,"Only 2 avatars, max=5"),l(),m(11,"ui-avatar-group",3),o(12,"h4"),u(13,"All avatars, max=2 (shows overflow)"),l(),m(14,"ui-avatar-group",3)),e&2&&(r(2),n("items",a.avatars),r(3),n("items",a.avatars)("variant","spread")("size","medium")("max",3),r(3),n("items",a.avatars)("variant","stacked")("size","x-large")("max",4)("ngStyle",$(14,le)),r(3),n("items",a.avatars.slice(0,2))("max",5),r(3),n("items",a.avatars)("max",2))},dependencies:[g,j,k],encapsulation:2})};export{X as UIAvatarGroupExample};
