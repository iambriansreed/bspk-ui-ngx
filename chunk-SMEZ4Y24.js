import{a as Q}from"./chunk-IHVIA42P.js";import{a as H}from"./chunk-QNATHXV4.js";import{a as K}from"./chunk-C22V3JJU.js";import{a as _}from"./chunk-EHDLRMJP.js";import"./chunk-RXVPIEKJ.js";import"./chunk-ZGKXMRXY.js";import{b as q}from"./chunk-RZAM6B6G.js";import{f as j,j as v}from"./chunk-A45RJC4S.js";import{$a as d,Ha as u,Ib as $,Kb as F,Ma as D,Pb as O,Ra as M,Sa as h,Ta as x,Wa as y,X as I,Xa as b,Xb as m,Y as w,Ya as o,Yb as L,Za as s,Zb as U,_a as l,a as g,b as f,db as N,eb as S,fa as C,gb as z,ib as A,kb as p,qb as G,rb as T,sb as V,tb as R,ua as r,ub as P,wb as c,yb as B}from"./chunk-FL2NMBNA.js";var Z=["overflowBtn"],ee=(i,a)=>({reference:i,offsetOptions:a}),te=(i,a)=>a.id;function ae(i,a){if(i&1&&(s(0,"ui-list-item",2)(1,"span",3),d(2,"ui-avatar",4),l()()),i&2){let e=a.$implicit,t=p(2);o("ariaRole","menuitem")("active",t.activeElementId()===e.id)("label",e.name),r(2),o("hideTooltip",!0)("size","small")("id",e.id)("name",e.name)("image",e.image)("color",e.color)("showIcon",e.showIcon)("initials",e.initials)}}function ie(i,a){if(i&1&&(N(0),s(1,"ui-menu",1),y(2,ae,3,11,"ui-list-item",2,te),l(),S()),i&2){let e=p();r(),R("width","fit-content")("padding-right","var(--spacing-sizing-04)")("--list-item-height","var(--spacing-sizing-12)")("max-height",e.maxMenuHeight),o("ui-floating",F(11,ee,e.menuReference(),e.offset))("id",e.menuId())("ariaRole","menu"),r(),b(e.items())}}function ne(i,a){if(i&1&&d(0,"ui-avatar",4),i&2){let e=a.$implicit;o("hideTooltip",!0)("size","small")("id",e.id)("name",e.name)("image",e.image)("color",e.color)("showIcon",e.showIcon)("initials",e.initials)}}var k=class i{overflowBtn=L("overflowBtn");size=m("medium");items=m.required();open=U(!1);menuId=m.required();activeElementId=U(null);menuReference=m.required();get offset(){return parseInt(getComputedStyle(document.documentElement).getPropertyValue("--spacing-sizing-01"))}get maxMenuHeight(){return this.items.length>5?"calc(var(--spacing-sizing-12) * 5)":""}closeMenu(){this.open.set(!1)}toggleMenu(){this.open.set(!this.open());let a=this.items();this.open()&&a.length?this.activeElementId.set(a[0].id):this.activeElementId.set(null)}avatarTemplate(a){return f(g({},a),{hideTooltip:!0,size:"small"})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["ui-avatar-group-overflow"]],viewQuery:function(e,t){e&1&&G(t.overflowBtn,Z,5),e&2&&T()},hostAttrs:[2,"display","contents"],inputs:{size:[1,"size"],items:[1,"items"],open:[1,"open"],menuId:[1,"menuId"],activeElementId:[1,"activeElementId"],menuReference:[1,"menuReference"]},outputs:{open:"openChange",activeElementId:"activeElementIdChange"},decls:3,vars:1,consts:[["avatar",""],[3,"ui-floating","id","ariaRole"],[3,"ariaRole","active","label"],["data-leading",""],[3,"hideTooltip","size","id","name","image","color","showIcon","initials"]],template:function(e,t){e&1&&(h(0,ie,4,14,"ng-container"),D(1,ne,1,8,"ng-template",null,0,O)),e&2&&x(t.open()?0:-1)},dependencies:[v,_,K,Q,H],encapsulation:2})};var re=(i,a)=>a.id;function oe(i,a){if(i&1){let e=z();s(0,"ui-avatar",4),A("click",function(){I(e);let n=p();return w(n.onAvatarClick())}),l()}if(i&2){let e=a.$implicit,t=p();o("name",e.name)("image",e.image)("initials",e.initials)("color",e.color)("showIcon",e.showIcon)("id",e.id)("size",t.size())}}function se(i,a){if(i&1){let e=z();s(0,"button",5,0),A("blur",function(){I(e);let n=p();return w(n.closeMenu())})("click",function(){I(e);let n=p();return w(n.toggleMenu())})("keydown",function(n){I(e);let Y=p();return w(Y.handleKeydown(n))}),s(2,"span",6),c(3),l()(),d(4,"ui-avatar-group-overflow",7)}if(i&2){let e=V(1),t=p();M("aria-activedescendant",t.activeElementId()||null)("aria-controls",t.open()?t.menuId:null)("aria-expanded",t.open())("aria-label",t.overflowButtonLabel)("data-size",t.size()),r(3),B("+",t.overflowItems.length),r(),o("open",t.open())("activeElementId",t.activeElementId())("menuId",t.menuId())("items",t.overflowItems)("size",t.size())("menuReference",e)}}var E=class i{items=m([]);size=m("small");max=m(5);variant=m("stacked");style=m(null);open=C(!1);activeElementId=C(null);menuId=m(q("avatar-group-menu"));get visibleItems(){let a=this.items(),e=this.max();return a.slice(0,e).map((t,n)=>f(g({},t),{id:`${t.name?.replace(/\s+/g,"-").toLowerCase()}-${n}`}))}get overflowItems(){let a=this.items(),e=this.max();return a.slice(e).map((t,n)=>f(g({},t),{id:`${t.name?.replace(/\s+/g,"-").toLowerCase()}-overflow-${n}`}))}get overflowButtonLabel(){let a=this.overflowItems.length;return`Show ${a} more avatar${a>1?"s":""}`}handleKeydown(a){if(!this.open)return;let e=this.items(),t=e.findIndex(n=>n.id===this.activeElementId());if(a.key==="ArrowDown"){let n=(t+1)%e.length;this.activeElementId.set(e[n].id),a.preventDefault()}else if(a.key==="ArrowUp"){let n=(t-1+e.length)%e.length;this.activeElementId.set(e[n].id),a.preventDefault()}else a.key==="Escape"&&(this.open.set(!1),a.preventDefault())}toggleMenu(){this.open.set(!this.open());let a=this.items();this.open()&&a.length?this.activeElementId.set(a[0].id):this.activeElementId.set(null)}closeMenu(){this.open.set(!1)}onAvatarClick(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["ui-avatar-group"]],hostAttrs:[2,"display","contents"],inputs:{items:[1,"items"],size:[1,"size"],max:[1,"max"],variant:[1,"variant"],style:[1,"style"],menuId:[1,"menuId"]},decls:5,vars:5,consts:[["overflowBtn",""],["data-bspk","avatar-group",3,"ngStyle"],["data-wrap",""],[3,"name","image","initials","color","showIcon","id","size"],[3,"click","name","image","initials","color","showIcon","id","size"],["aria-haspopup","menu","data-bspk","avatar","data-bspk-owner","avatar-overflow","role","combobox",3,"blur","click","keydown"],["data-overflow-count",""],[3,"open","activeElementId","menuId","items","size","menuReference"]],template:function(e,t){e&1&&(s(0,"div",1)(1,"div",2),y(2,oe,1,7,"ui-avatar",3,re),h(4,se,5,12),l()()),e&2&&(o("ngStyle",t.style),M("data-max",t.max())("data-size",t.size())("data-variant",t.variant()),r(2),b(t.visibleItems),r(2),x(t.overflowItems.length>0?4:-1))},dependencies:[v,j,_,k],styles:[`[data-bspk=avatar-group]{width:fit-content;max-width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center}[data-bspk=avatar-group] [data-wrap]{min-width:fit-content;display:flex;flex-direction:row;align-items:center;justify-content:center}[data-bspk=avatar-group] [data-bspk=avatar]{z-index:1}[data-bspk=avatar-group] [data-bspk=avatar]:hover{z-index:2}[data-bspk=avatar-group] [data-bspk=avatar][data-bspk-owner=avatar-overflow]{--avatar-border: solid 1px var(--stroke-neutral-low);background-color:var(--surface-neutral-t1-base)}[data-bspk=avatar-group][data-variant=spread]{--avatar-border: none}[data-bspk=avatar-group][data-variant=spread] [data-bspk=avatar]+[data-bspk=avatar]{margin-left:var(--spacing-sizing-02)}[data-bspk=avatar-group][data-variant=stacked]{--avatar-border: solid 1px var(--stroke-neutral-low)}[data-bspk=avatar-group][data-variant=stacked] [data-bspk=avatar]+[data-bspk=avatar]{margin-left:calc(var(--spacing-sizing-02) * -1)}
`],encapsulation:2})};var le=()=>({marginLeft:"2rem",border:"2px solid #eee",padding:"1rem"}),X=class i{avatars=[{name:"Fezzik",image:"/avatar-01.png"},{name:"Inigo Montoya",initials:"IM",color:"blue"},{name:"Miracle Max",initials:"MM",color:"green"},{name:"Princess Buttercup",showIcon:!0},{name:"Westley",initials:"W",color:"purple"},{name:"Vincent",initials:"V",image:"/avatar-04.png"}];static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["ui-avatar-group-example"]],decls:15,vars:16,consts:[[3,"items"],[3,"items","variant","size","max"],[3,"items","max"]],template:function(e,t){e&1&&(s(0,"h4"),c(1,"Default (stacked, small, max=5)"),l(),d(2,"ui-avatar-group",0),s(3,"h4"),c(4,"Spread variant, medium size, max=3"),l(),d(5,"ui-avatar-group",1),s(6,"h4"),c(7,"Stacked, x-large, max=4, custom style"),l(),d(8,"ui-avatar-group",1),s(9,"h4"),c(10,"Only 2 avatars, max=5"),l(),d(11,"ui-avatar-group",2),s(12,"h4"),c(13,"All avatars, max=2 (shows overflow)"),l(),d(14,"ui-avatar-group",2)),e&2&&(r(2),o("items",t.avatars),r(3),o("items",t.avatars)("variant","spread")("size","medium")("max",3),r(3),P($(15,le)),o("items",t.avatars)("variant","stacked")("size","x-large")("max",4),r(3),o("items",t.avatars.slice(0,2))("max",5),r(3),o("items",t.avatars)("max",2))},dependencies:[v,E],encapsulation:2})};export{X as UIAvatarGroupExample};
