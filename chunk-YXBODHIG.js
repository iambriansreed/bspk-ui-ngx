import{a as Q}from"./chunk-MEELGFXZ.js";import{a as J}from"./chunk-R7NQLYIS.js";import{f as H,k as Z}from"./chunk-55NWGUZQ.js";import{$ as w,Ab as O,Db as b,Eb as B,Fb as f,Hb as L,Na as u,Rb as G,Xa as c,Ya as m,Z as R,Za as g,Zb as M,_ as D,_a as A,a as z,ab as x,b as I,bb as v,bc as p,cb as V,db as l,eb as d,fb as N,gb as C,ha as $,hb as y,ib as T,lb as q,mb as U,ob as F,qb as i,ya as r}from"./chunk-YXGO2XRJ.js";var _=class a{width;static \u0275fac=function(t){return new(t||a)};static \u0275cmp=u({type:a,selectors:[["icon-arrow-downward"]],inputs:{width:"width"},decls:2,vars:1,consts:[["data-bspk-name","ArrowDownward","data-type","material","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 -960 960 960"],["d","M440-313v-447q0-17 11.5-28.5T480-800q17 0 28.5 11.5T520-760v447l196-196q12-12 28-11.5t28 12.5q11 12 11.5 28T772-452L508-188q-6 6-13 8.5t-15 2.5q-8 0-15-2.5t-13-8.5L188-452q-11-11-11-27.5t11-28.5q12-12 28.5-12t28.5 12l195 195Z"]],template:function(t,n){t&1&&(w(),C(0,"svg",0),T(1,"path",1),y()),t&2&&c("width",n.width)},styles:[`icon-arrow-downward{display:contents}
`],encapsulation:2})};var k=class a{width;static \u0275fac=function(t){return new(t||a)};static \u0275cmp=u({type:a,selectors:[["icon-arrow-upward"]],inputs:{width:"width"},decls:2,vars:1,consts:[["data-bspk-name","ArrowUpward","data-type","material","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 -960 960 960"],["d","M440-647 244-451q-12 12-28 11.5T188-452q-11-12-11.5-28t11.5-28l264-264q6-6 13-8.5t15-2.5q8 0 15 2.5t13 8.5l264 264q11 11 11 27.5T772-452q-12 12-28.5 12T715-452L520-647v447q0 17-11.5 28.5T480-160q-17 0-28.5-11.5T440-200v-447Z"]],template:function(t,n){t&1&&(w(),C(0,"svg",0),T(1,"path",1),y()),t&2&&c("width",n.width)},styles:[`icon-arrow-upward{display:contents}
`],encapsulation:2})};var ie=(a,e)=>({row:a,size:e}),oe=(a,e)=>e.id,re=(a,e)=>e.key;function le(a,e){if(a&1&&(l(0,"caption"),b(1),d()),a&2){let t=i();r(),f(" ",t.title()," ")}}function se(a,e){a&1&&N(0,"icon-arrow-upward")}function de(a,e){a&1&&N(0,"icon-arrow-downward")}function ce(a,e){}function pe(a,e){if(a&1){let t=U();l(0,"button",5),F("click",function(){R(t);let s=i().$implicit,o=i();return D(o.toggleSorting(s.key))}),b(1),l(2,"span",6),m(3,se,1,0,"icon-arrow-upward")(4,de,1,0,"icon-arrow-downward")(5,ce,0,0),d()()}if(a&2){let t=i().$implicit,n=i();r(),f(" ",t.label," "),r(2),g(n.sortDir()[t.key]==="asc"?3:n.sortDir()[t.key]==="desc"?4:5)}}function ue(a,e){if(a&1&&(l(0,"span",4),b(1),d()),a&2){let t=i().$implicit;r(),B(t.label)}}function be(a,e){if(a&1&&b(0),a&2){let t=i().$implicit;f(" ",t.label," ")}}function me(a,e){if(a&1&&(l(0,"th",1),m(1,pe,6,2,"button",3)(2,ue,2,1,"span",4)(3,be,1,1),d()),a&2){let t=e.$implicit,n=i();c("data-align",t.align||null)("data-sortable",t.sort?!0:null)("aria-sort",n.ariaSortForColumn(t.key)),r(),g(t.sort?1:t.hideHeader?2:3)}}function ge(a,e){if(a&1&&q(0,7),a&2){let t=i().$implicit,n=i().$implicit,s=i();V("ngComponentOutlet",t.component)("ngComponentOutletInputs",G(2,ie,n,s.sizeSafe))}}function fe(a,e){if(a&1&&b(0),a&2){let t=i().$implicit,n=i().$implicit,s=i();f(" ",s.formatCell(t.formatter?t.formatter(n,s.sizeSafe):n[t.key])," ")}}function he(a,e){if(a&1&&(l(0,"td"),m(1,ge,1,5,"ng-container",7)(2,fe,1,1),d()),a&2){let t=e.$implicit;c("data-align",t.align||"left")("data-cell",t.key)("data-valign",t.valign||"center"),r(),g(t.component?1:2)}}function we(a,e){if(a&1&&(l(0,"tr"),x(1,he,3,4,"td",null,re),d()),a&2){let t=i();r(),v(t.normalizedColumns)}}function xe(a,e){if(a&1){let t=U();l(0,"div",2)(1,"div",8),b(2),d(),l(3,"ui-pagination",9),F("onChange",function(s){R(t);let o=i();return D(o.setPageIndex(s-1))}),d()()}if(a&2){let t=i();r(2),L(" Showing ",t.startRow(),"-",t.endRow()," of ",t.data().length," results "),r(),V("value",t.pageIndex+1)("numPages",t.totalPages)}}function W(a){let e=a;return(typeof a=="string"||typeof a=="number")&&(e=new Date(a)),e instanceof Date&&!isNaN(e.getTime())?e.getTime():0}var ve={string:(a,e)=>`${a}`.localeCompare(`${e}`),number:(a,e)=>{let t=typeof a=="number"?a:Number(a)||0,n=typeof e=="number"?e:Number(e)||0;return t-n},boolean:(a,e)=>a===e?0:a?1:-1,date:(a,e)=>W(a)-W(e)},X=class a{rows=M(()=>{let e=this.normalizedColumns,t=[...this.data()||[]];this.sorting().length&&t.sort((o,K)=>{for(let{key:S,order:ee}of this.sorting()){let te=o[S],ae=K[S],h=e.find(ne=>ne.key===S)?.sort;if(!h)continue;let j=(typeof h=="function"?h:ve[h])(te,ae);if(j!==0)return j*(ee==="asc"?1:-1)}return 0});let n=this.pageIndex*this.pageSizeSafe,s=n+this.pageSizeSafe;return t.slice(n,s)});sortDir=M(()=>this.sorting().reduce((e,t)=>I(z({},e),{[t.key]:t.order}),{}));sorting=$([]);data=p([]);columns=p([]);title=p(void 0);size=p("medium");pageSize=p(10);pageIndex=0;get sizeSafe(){return this.size()||"medium"}get pageSizeSafe(){return this.pageSize()||10}get hasPagination(){return(this.data()?.length||0)>this.pageSizeSafe}get normalizedColumns(){return(this.columns()||[]).filter(e=>typeof e=="object"&&e!==null)}get totalColumns(){return this.normalizedColumns.length}get totalPages(){let e=this.data()?.length||0;return Math.ceil(e/this.pageSizeSafe)||1}toggleSorting(e){let t=this.sorting().find(o=>o.key===e),n=Ce(t?.order);n&&t&&this.sorting.set(this.sorting().map(o=>o.key===e?I(z({},o),{order:n}):o)),n&&!t&&this.sorting.set([...this.sorting(),{key:e,order:n}]),!n&&t&&this.sorting.set(this.sorting().filter(o=>o.key!==e));let s=this.normalizedColumns.find(o=>o.key===e)?.label||e;J(`${n?`Sorted ${n}ending`:"Removed sorting"} by ${s}`)}trackRow(e,t){return t.id}setPageIndex(e){this.pageIndex=e}startRow(){return this.data().length===0?0:this.pageIndex*this.pageSizeSafe+1}endRow(){let e=this.pageIndex*this.pageSizeSafe+this.pageSizeSafe;return Math.min(e,this.data().length)}formatCell(e){return e==null?null:Array.isArray(e)?e.map(t=>this.formatCell(t)??"").join(", "):typeof e=="object"?(console.warn("Unexpected object value:",e),null):String(e)}gridTemplateColumns(){return this.normalizedColumns.map(e=>`minmax(min-content,${e.width||"1fr"})`).join(" ")}ariaSortForColumn(e){return this.sorting().find(t=>t.key===e)?.order==="asc"?"ascending":this.sorting().find(t=>t.key===e)?.order==="desc"?"descending":"none"}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=u({type:a,selectors:[["ui-table"]],hostAttrs:["data-bspk","table"],inputs:{data:[1,"data"],columns:[1,"columns"],title:[1,"title"],size:[1,"size"],pageSize:[1,"pageSize"]},decls:12,vars:8,consts:[["data-scroll-container",""],["scope","col"],["data-pagination","","role","group"],["type","button"],["data-invisible",""],["type","button",3,"click"],["aria-hidden","true","data-sort-icon",""],[3,"ngComponentOutlet","ngComponentOutletInputs"],["data-pagination-label",""],[3,"onChange","value","numPages"]],template:function(t,n){t&1&&(l(0,"div")(1,"div",0)(2,"table"),m(3,le,2,1,"caption"),l(4,"thead")(5,"tr"),x(6,me,4,4,"th",1,A),d()(),l(8,"tbody"),x(9,we,3,0,"tr",null,oe),d()(),m(11,xe,4,5,"div",2),d()()),t&2&&(c("data-has-pagination",n.hasPagination?!0:null)("data-size",n.size()||"medium"),r(2),O("grid-template-columns",n.gridTemplateColumns()),c("aria-colcount",n.totalColumns)("aria-rowcount",n.data().length),r(),g(n.title()?3:-1),r(3),v(n.normalizedColumns),r(3),v(n.rows()),r(2),g(n.hasPagination?11:-1))},dependencies:[Z,H,Q,k,_],styles:[`[data-bspk=table]{--white-background: var(--surface-neutral-t1-base);--grey-background: var(--surface-neutral-t2-lowest);--icon-size: var(--spacing-sizing-05);display:block;min-width:100%;overflow:auto hidden;border-collapse:separate;text-align:left;border-spacing:2rem .125rem;color:var(--foreground-neutral-on-surface);font:var(--labels-base);border-radius:var(--radius-md);border:1px solid var(--stroke-neutral-low);background:var(--white-background);--min-height: var(--spacing-sizing-10);--padding-y: var(--spacing-sizing-02)}[data-bspk=table][data-size=x-large]{--min-height: var(--spacing-sizing-14);--padding-y: var(--spacing-sizing-04)}[data-bspk=table][data-size=large]{--min-height: var(--spacing-sizing-12);--padding-y: var(--spacing-sizing-03)}[data-bspk=table][data-size=small]{--min-height: var(--spacing-sizing-08);--padding-y: var(--spacing-sizing-01)}[data-bspk=table] [data-scroll-container]{width:fit-content;min-width:100%;border-radius:var(--radius-md)}[data-bspk=table] table{display:grid;grid-template-columns:var(--template-columns);border-collapse:collapse;min-width:100%}[data-bspk=table] table tr,[data-bspk=table] table tbody,[data-bspk=table] table thead{display:contents}[data-bspk=table] table caption{grid-column:1/-1;background:var(--grey-background);border-bottom:1px solid var(--stroke-neutral-low);display:flex;flex-direction:row;justify-content:start;align-items:center;font:var(--labels-small);min-height:var(--min-height);padding:calc(var(--padding-y) + 2px) var(--spacing-sizing-04);overflow:hidden}[data-bspk=table] table th{display:flex;min-height:var(--min-height);overflow:hidden;flex-direction:row;background:var(--grey-background);font:var(--labels-small);border-bottom:1px solid var(--stroke-neutral-base);white-space:nowrap;z-index:1;position:relative}[data-bspk=table] table th:not([data-sortable]){padding:calc(var(--padding-y) + 2px) var(--spacing-sizing-04);pointer-events:none}[data-bspk=table] table th[data-sortable] button{display:flex;min-height:var(--min-height);border:none;overflow:hidden;flex-direction:row;padding:calc(var(--padding-y) + 2px) var(--spacing-sizing-04);background:var(--grey-background);align-items:center;justify-content:space-between;gap:var(--spacing-sizing-02);width:100%;cursor:pointer;font:inherit;outline:none;position:relative}[data-bspk=table] table th[data-sortable] button:hover{background:linear-gradient(var(--interactions-neutral-hover-opacity),var(--interactions-neutral-hover-opacity)),linear-gradient(var(--grey-background),var(--grey-background))}[data-bspk=table] table th[data-sortable] button:active{background:linear-gradient(var(--interactions-neutral-press-opacity),var(--interactions-neutral-press-opacity)),linear-gradient(var(--grey-background),var(--grey-background))}[data-bspk=table] table th[data-sortable] button [data-sort-icon]{display:flex;flex-direction:row;align-items:center}[data-bspk=table] table th[data-sortable] button [data-sort-icon] svg{width:var(--icon-size)}[data-bspk=table] table th[data-sortable] button:focus-visible{position:absolute;z-index:var(--z-index-focus);inset:0;outline:solid 2px var(--stroke-neutral-focus);isolation:isolate}[data-bspk=table] table th[data-align=right]{align-items:flex-end}[data-bspk=table] table th[data-align=right] button{justify-content:flex-end}[data-bspk=table] table th[data-align=center]{align-items:center}[data-bspk=table] table th[data-align=center] button{justify-content:center}[data-bspk=table] table th[data-align=left]{align-items:flex-start}[data-bspk=table] table th[data-align=left] button{justify-content:space-between}[data-bspk=table] table td{display:flex;min-height:var(--min-height);overflow:hidden;padding:calc(var(--padding-y) + 2px) var(--spacing-sizing-04);flex-direction:column;font:var(--body-small)}[data-bspk=table] table td[data-align=right]{align-items:flex-end}[data-bspk=table] table td[data-align=center]{align-items:center}[data-bspk=table] table td[data-align=left]{align-items:flex-start}[data-bspk=table] table td[data-valign=top]{justify-content:flex-start}[data-bspk=table] table td[data-valign=bottom]{justify-content:flex-end}[data-bspk=table] table td[data-valign=center]{justify-content:center}[data-bspk=table] table td p{margin:0;padding:0;font:var(--body-small)}[data-bspk=table] table td[data-action]:hover{background:linear-gradient(var(--interactions-neutral-hover-opacity),var(--interactions-neutral-hover-opacity)),linear-gradient(var(--white-background),var(--white-background))}[data-bspk=table] table tr:nth-child(2n) td{background:var(--grey-background)}[data-bspk=table] table tr:nth-child(2n) td[data-action]:hover{background:linear-gradient(var(--interactions-neutral-hover-opacity),var(--interactions-neutral-hover-opacity)),linear-gradient(var(--grey-background),var(--grey-background))}[data-bspk=table] [data-pagination]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:var(--spacing-sizing-03) var(--spacing-sizing-04);width:100%}[data-bspk=table] [data-pagination] [data-pagination-label]{font:var(--body-small);min-width:fit-content}[data-bspk=table] [data-pagination] [data-bspk=pagination]{flex-grow:0}
`],encapsulation:2})};function Ce(a){if(!a)return"asc";if(a==="asc")return"desc"}var Y=class a{row=p.required();size=p.required();static \u0275fac=function(t){return new(t||a)};static \u0275cmp=u({type:a,selectors:[["ng-component"]],inputs:{row:[1,"row"],size:[1,"size"]},decls:0,vars:0,template:function(t,n){},encapsulation:2})};export{X as a,Y as b};
