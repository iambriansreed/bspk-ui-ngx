import{a as y}from"./chunk-VQJLCMNJ.js";import{Zb as p,_b as u,a,ha as m}from"./chunk-YXGO2XRJ.js";var f=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],E={ArrowLeft:-1,ArrowRight:1,ArrowUp:-1,ArrowDown:1},v=class{props=m({ids:[],activeElementId:null,defaultActiveId:void 0,increments:E,callback:void 0});arrowKeyCallbacks=p(()=>Object.fromEntries(f.map(e=>[e,t=>{let{ids:r,increments:o,callback:l,activeElementId:s}=this.props();if(!r||!o)return;let n=0,c=0,i=r[n],d=o[e];s&&(c=r.indexOf(s),n=(c+d+r.length)%r.length,i=r[n]),!(typeof l=="function"&&l({key:e,event:t,activeElementId:i,increment:d})===!1)&&(t.preventDefault(),this.setActiveElementId(i))}])));constructor(){u(()=>{let{ids:e,activeElementId:t}=this.props();e&&t&&!e.includes(t)&&this.setActiveElementId(e[0]||null)})}get activeElementId(){return this.props().activeElementId}get activeElement(){return this.activeElementId&&document.querySelector(`[id="${this.activeElementId}"]`)||null}destroy(){this.props.set({ids:[],activeElementId:null,defaultActiveId:void 0,callback:void 0})}setActiveElementId(e){this.updateProps({activeElementId:e}),e&&document.querySelector(`[id="${e}"]`)?.scrollIntoView({block:"nearest",behavior:"smooth",inline:"nearest"})}updateProps(e){this.props.set(a(a({},this.props()),e))}init(e){this.updateProps(e)}handleKeydown(e,t){y([this.arrowKeyCallbacks(),t||{}],{preventDefault:!0,stopPropagation:!0})(e)}};export{v as a};
